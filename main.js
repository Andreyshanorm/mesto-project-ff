(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Соловьеа",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],t=document.querySelector(".popup_type_image"),n=t.querySelector(".popup__image"),o=t.querySelector(".popup__caption");function r(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_is-opened")&&a(e),t.target.classList.contains("popup__close")&&a(e)}))}function c(e){e.querySelector(".card__image").addEventListener("click",(function(){return function(e){var r=e.querySelector("img").getAttribute("src"),c=e.querySelector("img").getAttribute("alt");n.src=r,n.alt=c,o.textContent=c,p(t)}(e)}))}function p(e){document.addEventListener("keydown",u),setTimeout((function(){e.classList.add("popup_is-opened")}),0),e.classList.add("popup_is-animated")}function a(e){setTimeout((function(){e.classList.remove("popup_is-animated")}),800),e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",u)}function u(e){"Escape"===e.key&&a(document.querySelector(".popup_is-opened"))}function i(e){e.remove()}function d(e){e.classList.toggle("is-active")}function s(e,t){var n=l.querySelector(".places__item").cloneNode(!0),o=n.querySelector(".card__image"),r=n.querySelector(".card__like-button"),c=n.querySelector(".card__delete-button");return t.openImagePopup(n),c.addEventListener("click",(function(){t.deleteCard(n)})),r.addEventListener("click",(function(){t.likeCard(r)})),o.src="".concat(e.link),o.alt=e.name,n.querySelector(".card__title").textContent=e.name,n}var l=document.querySelector("#card-template").content,m=document.querySelector(".places__list");var _=document.querySelector(".popup_type_edit"),y=document.querySelector(".profile__edit-button"),f=document.querySelector(".popup_type_new-card"),v=document.querySelector(".profile__add-button"),q=document.querySelector('form[name="new-place"]'),S=document.querySelector('form[name="edit-profile"]'),k=(document.querySelector(".popup_type_image"),document.querySelectorAll(".popup")),g=document.querySelector(".profile__title"),L=document.querySelector(".profile__description"),C=document.querySelector(".popup__input_type_name"),b=document.querySelector(".popup__input_type_description");var h,E,x,j;e.forEach((function(e){var t=s(e,{deleteCard:i,likeCard:d,openImagePopup:c});m.append(t)})),j=_,y.addEventListener("click",(function(){p(j),C.value="".concat(g.textContent),b.value="".concat(L.textContent)})),function(e,t){t.addEventListener("click",(function(){p(e)}))}(f,v),function(e){e.addEventListener("submit",(function(e){!function(e,t){e.preventDefault(),t.nameContainer.textContent=t.name,t.jobContainer.textContent=t.job,a(_)}(e,{name:C.value,job:b.value,nameContainer:g,jobContainer:L})}))}(S),E=(h=q).querySelector(".popup__input_type_card-name"),x=h.querySelector(".popup__input_type_url"),h.addEventListener("submit",(function(e){e.preventDefault();var t=s({name:E.value,link:x.value},{deleteCard:i,likeCard:d,openImagePopup:c});m.prepend(t),q.reset(),a(f)})),function(e){e.length>1?e.forEach(r):r(e)}(k)})();